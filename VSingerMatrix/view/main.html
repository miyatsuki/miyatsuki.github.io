<html>
    <head>
        <meta charset="utf-8"/>
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
        <script type="text/javascript" src="../data/plot_data.js" charset="UTF-8"></script>
        <script type="text/javascript" src="graph.js" charset="UTF-8"></script>
    </head>
    <body>
        <div id="app">
            <svg viewbox="0 0 800 800" width="800" height="800" style="float:left">
                <line x1=400 y1=0 x2=400 y2=800 stroke="black"></line>
                <line x1=0 y1=400 x2=800 y2=400 stroke="black"></line>
                <g v-for="item in items" @click="selected_singer_id = item.singer_id">
                    <text :x="(item.posX+1)*400-40" :y="(-item.posY+1)*400-10">{{ item.name }}</text>
                    <circle v-if="item.song.indexOf(query) > -1" :cx="(item.posX+1)*400" :cy="(-item.posY+1)*400" r=5 fill="red"></circle>
                    <circle v-else :cx="(item.posX+1)*400" :cy="(-item.posY+1)*400" r=5></circle>
                </g>
            </svg>
            <ul v-if="selected_singer_id > -1" style="float:left">
                <span>Vsinger: {{ items[selected_singer_id].name }}</span>
                <br>
                <li v-for="song in items[selected_singer_id].song" v-on:click="query = song">
                    <span v-if="song == query" style="color:red">{{ song }}</span>
                    <span v-else>{{ song }}</span>
                    <br>
                    <iframe width="280" height="157" :src='`https://www.youtube.com/embed/${videoId_map[items[selected_singer_id].name][song]}`' frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </li>
            </ul>
        </div>
    </body>
</html>
